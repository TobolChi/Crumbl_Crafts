<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç≥ Cooking Department - Live Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* CSS Variables */
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #f7931e;
            --accent-color: #ffd700;
            --text-color: #ffffff;
            --bg-dark: rgba(0, 0, 0, 0.8);
            --bg-light: rgba(255, 255, 255, 0.1);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --border-radius: 15px;
            --glass-effect: rgba(255, 255, 255, 0.15);
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: url('https://i.pinimg.com/originals/54/e0/0d/54e00d34f2eefd58798d055090ce49e4.gif') center center fixed;
            background-size: cover;
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Glass morphism overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
            backdrop-filter: blur(5px);
            z-index: -1;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--glass-effect);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .header-gif {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid var(--accent-color);
            animation: bounce 2s infinite;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 107, 53, 0.5);
        }

        .live-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .stat-item {
            background: var(--bg-light);
            padding: 15px 25px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            animation: pulse 3s infinite;
        }

        .stat-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.4);
        }

        .stat-item i {
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .rankings-section, .activity-section {
            background: var(--glass-effect);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            height: fit-content;
            max-height: 80vh;
            overflow-y: auto;
        }

        .rankings-section h2, .activity-section h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            color: var(--accent-color);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .rankings-section h2 i, .activity-section h2 i {
            margin-right: 15px;
            color: var(--primary-color);
        }

        /* Chef Rankings */
        .chef-card {
            background: var(--bg-light);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .chef-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .chef-card:hover::before {
            left: 100%;
        }

        .chef-card:hover {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 15px 50px rgba(255, 107, 53, 0.3);
        }

        .chef-rank {
            position: absolute;
            top: -10px;
            left: -10px;
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .chef-info {
            margin-left: 20px;
        }

        .chef-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 5px;
        }

        .chef-role {
            color: var(--secondary-color);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .chef-stats {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .chef-stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .chef-stat i {
            color: var(--accent-color);
        }

        /* Activity Log */
        .activity-item {
            background: var(--bg-light);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid var(--primary-color);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            animation: slideIn 0.5s ease;
        }

        .activity-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
        }

        .activity-time {
            font-size: 0.8rem;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }

        .activity-text {
            font-size: 1rem;
            line-height: 1.4;
        }

        .activity-user {
            color: var(--accent-color);
            font-weight: bold;
        }

        .activity-action {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: var(--glass-effect);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: var(--secondary-color);
            animation: pulse 2s infinite;
        }

        /* Animations */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .header-gif {
                width: 60px;
                height: 60px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .live-stats {
                gap: 20px;
            }
            
            .stat-item {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .chef-stats {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* Special Effects for Top Chefs */
        .chef-card[data-rank="1"] .chef-rank {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .chef-card[data-rank="2"] .chef-rank {
            background: linear-gradient(45deg, #c0c0c0, #e8e8e8);
        }

        .chef-card[data-rank="3"] .chef-rank {
            background: linear-gradient(45deg, #cd7f32, #daa520);
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700;
            }
            to {
                box-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700, 0 0 40px #ffd700;
            }
        }

        .trend-up {
            color: #4CAF50;
        }

        .trend-down {
            color: #f44336;
        }

        /* Scrollbar Styling */
        .rankings-section::-webkit-scrollbar,
        .activity-section::-webkit-scrollbar {
            width: 8px;
        }

        .rankings-section::-webkit-scrollbar-track,
        .activity-section::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .rankings-section::-webkit-scrollbar-thumb,
        .activity-section::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .rankings-section::-webkit-scrollbar-thumb:hover,
        .activity-section::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExNXdvc2hlM2ZlYXoyZW94MXlxenhtYWpobW04eW1rN3lrczc0d2M0cSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/eaarEl3xnKF3JraWi0/giphy.gif" 
                     alt="Chef GIF" class="header-gif">
                <h1>üç≥ Cooking Department Dashboard</h1>
                <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExNXdvc2hlM2ZlYXoyZW94MXlxenhtYWpobW04eW1rN3lrczc0d2M0cSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/eaarEl3xnKF3JraWi0/giphy.gif" 
                     alt="Chef GIF" class="header-gif">
            </div>
            <div class="live-stats" id="liveStats">
                <div class="stat-item">
                    <i class="fas fa-users"></i>
                    <span>Total Chefs: <span id="totalChefs">Loading...</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-utensils"></i>
                    <span>Orders: <span id="totalOrders">Loading...</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-star"></i>
                    <span>Avg Rating: <span id="avgRating">Loading...</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-fire"></i>
                    <span>Active Chefs: <span id="activeChefs">Loading...</span></span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Side - Chef Rankings -->
            <section class="rankings-section">
                <h2><i class="fas fa-trophy"></i> Chef Rankings</h2>
                <div class="rankings-container" id="chefRankings">
                    <div class="loading">Loading chef rankings...</div>
                </div>
            </section>

            <!-- Right Side - Activity Log -->
            <section class="activity-section">
                <h2><i class="fas fa-history"></i> Live Activity</h2>
                <div class="activity-container" id="activityLog">
                    <div class="loading">Loading activity log...</div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Last Updated: <span id="lastUpdate">Never</span></p>
            <p>üîÑ Auto-refreshes every 30 seconds</p>
        </footer>
    </div>

    <script>
        // Mock data for demonstration
        const mockData = {
            stats: {
                total_chefs: 24,
                total_orders: 1847,
                avg_rating: 4.3,
                active_chefs: 12
            },
            rankings: [
                {
                    name: "Chef Master Gordon",
                    role: "Culinary Specialist",
                    rating: 4.9,
                    orders_completed: 287,
                    time_in_role: 86400 * 45, // 45 days
                    performance_trend: 12.5
                },
                {
                    name: "Isabella Rodriguez",
                    role: "Artisan Chef",
                    rating: 4.7,
                    orders_completed: 203,
                    time_in_role: 86400 * 32,
                    performance_trend: 8.2
                },
                {
                    name: "Marcus Thompson",
                    role: "Artisan Chef",
                    rating: 4.6,
                    orders_completed: 189,
                    time_in_role: 86400 * 28,
                    performance_trend: 5.1
                },
                {
                    name: "Sophie Chen",
                    role: "Prep Chef",
                    rating: 4.4,
                    orders_completed: 156,
                    time_in_role: 86400 * 21,
                    performance_trend: 15.3
                },
                {
                    name: "Antonio Silva",
                    role: "Prep Chef",
                    rating: 4.3,
                    orders_completed: 134,
                    time_in_role: 86400 * 19,
                    performance_trend: -2.1
                },
                {
                    name: "Emma Johnson",
                    role: "Line Chef",
                    rating: 4.2,
                    orders_completed: 112,
                    time_in_role: 86400 * 15,
                    performance_trend: 7.8
                },
                {
                    name: "Raj Patel",
                    role: "Line Chef",
                    rating: 4.1,
                    orders_completed: 98,
                    time_in_role: 86400 * 12,
                    performance_trend: 3.4
                },
                {
                    name: "Marie Dubois",
                    role: "Commis Chef",
                    rating: 4.0,
                    orders_completed: 76,
                    time_in_role: 86400 * 8,
                    performance_trend: 9.7
                }
            ],
            activity: [
                {
                    user_name: "Chef Master Gordon",
                    action_type: "order_completed",
                    action: "completed order",
                    details: "Chef Master Gordon completed order #1847 with 5-star rating",
                    timestamp: new Date(Date.now() - 300000).toISOString() // 5 minutes ago
                },
                {
                    user_name: "Isabella Rodriguez",
                    action_type: "rating_received",
                    action: "received rating",
                    details: "Isabella Rodriguez received a 5-star rating from customer",
                    timestamp: new Date(Date.now() - 600000).toISOString() // 10 minutes ago
                },
                {
                    user_name: "Sophie Chen",
                    action_type: "promotion",
                    action: "promoted",
                    details: "Sophie Chen was promoted to Prep Chef due to excellent performance",
                    timestamp: new Date(Date.now() - 900000).toISOString() // 15 minutes ago
                },
                {
                    user_name: "Marcus Thompson",
                    action_type: "order_completed",
                    action: "completed order",
                    details: "Marcus Thompson completed order #1846 with 4-star rating",
                    timestamp: new Date(Date.now() - 1200000).toISOString() // 20 minutes ago
                },
                {
                    user_name: "Emma Johnson",
                    action_type: "achievement",
                    action: "earned achievement",
                    details: "Emma Johnson earned the 'Speed Demon' achievement for fastest order completion",
                    timestamp: new Date(Date.now() - 1500000).toISOString() // 25 minutes ago
                },
                {
                    user_name: "Antonio Silva",
                    action_type: "order_completed",
                    action: "completed order",
                    details: "Antonio Silva completed order #1845 with 4-star rating",
                    timestamp: new Date(Date.now() - 1800000).toISOString() // 30 minutes ago
                },
                {
                    user_name: "Raj Patel",
                    action_type: "joined",
                    action: "joined kitchen",
                    details: "Raj Patel started their shift in the kitchen",
                    timestamp: new Date(Date.now() - 2100000).toISOString() // 35 minutes ago
                },
                {
                    user_name: "Marie Dubois",
                    action_type: "rating_received",
                    action: "received rating",
                    details: "Marie Dubois received a 4-star rating from customer",
                    timestamp: new Date(Date.now() - 2400000).toISOString() // 40 minutes ago
                }
            ]
        };

        // DOM Elements
        const elements = {
            totalChefs: document.getElementById('totalChefs'),
            totalOrders: document.getElementById('totalOrders'),
            avgRating: document.getElementById('avgRating'),
            activeChefs: document.getElementById('activeChefs'),
            chefRankings: document.getElementById('chefRankings'),
            activityLog: document.getElementById('activityLog'),
            lastUpdate: document.getElementById('lastUpdate')
        };

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üç≥ Cooking Department Dashboard Loaded');
            loadDashboardData();
            startAutoRefresh();
            
            // Simulate real-time updates
            setTimeout(() => {
                simulateRealTimeUpdates();
            }, 5000);
        });

        // Main function to load all dashboard data
        function loadDashboardData() {
            console.log('üîÑ Refreshing dashboard data...');
            updateLiveStats(mockData.stats);
            updateChefRankings(mockData.rankings);
            updateActivityLog(mockData.activity);
            updateLastUpdateTime();
        }

        // Update live statistics
        function updateLiveStats(stats) {
            if (!stats) return;
            
            animateNumber(elements.totalChefs, stats.total_chefs || 0);
            animateNumber(elements.totalOrders, stats.total_orders || 0);
            elements.avgRating.textContent = (stats.avg_rating || 0).toFixed(1) + '‚≠ê';
            animateNumber(elements.activeChefs, stats.active_chefs || 0);
        }

        // Update chef rankings
        function updateChefRankings(rankings) {
            if (!rankings || rankings.length === 0) {
                elements.chefRankings.innerHTML = '<div class="loading">No chef data available</div>';
                return;
            }
            
            let html = '';
            rankings.forEach((chef, index) => {
                const rank = index + 1;
                const roleIcon = getRoleIcon(chef.role);
                const ratingColor = getRatingColor(chef.rating);
                
                html += `
                    <div class="chef-card" data-rank="${rank}">
                        <div class="chef-rank">${rank}</div>
                        <div class="chef-info">
                            <div class="chef-name">${roleIcon} ${chef.name}</div>
                            <div class="chef-role">${chef.role}</div>
                            <div class="chef-stats">
                                <div class="chef-stat">
                                    <i class="fas fa-star"></i>
                                    <span style="color: ${ratingColor}">${chef.rating.toFixed(1)}</span>
                                </div>
                                <div class="chef-stat">
                                    <i class="fas fa-utensils"></i>
                                    <span>${chef.orders_completed}</span>
                                </div>
                                <div class="chef-stat">
                                    <i class="fas fa-clock"></i>
                                    <span>${formatDuration(chef.time_in_role)}</span>
                                </div>
                                <div class="chef-stat">
                                    <i class="fas fa-chart-line"></i>
                                    <span class="${chef.performance_trend >= 0 ? 'trend-up' : 'trend-down'}">
                                        ${chef.performance_trend >= 0 ? 'üìà' : 'üìâ'} ${Math.abs(chef.performance_trend).toFixed(1)}%
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            elements.chefRankings.innerHTML = html;
            animateChefCards();
        }

        // Update activity log
        function updateActivityLog(activities) {
            if (!activities || activities.length === 0) {
                elements.activityLog.innerHTML = '<div class="loading">No recent activity</div>';
                return;
            }
            
            let html = '';
            activities.forEach(activity => {
                const timeAgo = getTimeAgo(activity.timestamp);
                const icon = getActivityIcon(activity.action_type);
                
                html += `
                    <div class="activity-item">
                        <div class="activity-time">${icon} ${timeAgo}</div>
                        <div class="activity-text">${formatActivityText(activity)}</div>
                    </div>
                `;
            });
            
            elements.activityLog.innerHTML = html;
        }

        // Helper functions
        function getRoleIcon(role) {
            const icons = {
                'Culinary Specialist': 'üë®‚Äçüç≥',
                'Artisan Chef': 'üç≥',
                'Prep Chef': 'ü•Ñ',
                'Line Chef': 'üçΩÔ∏è',
                'Commis Chef': 'üë®‚Äçüç≥',
                'Kitchen Hand': 'üß§',
                'Trainee': 'üìö'
            };
            return icons[role] || 'üë®‚Äçüç≥';
        }

        function getRatingColor(rating) {
            if (rating >= 4.5) return '#ffd700'; // Gold
            if (rating >= 4.0) return '#ff6b35'; // Orange
            if (rating >= 3.5) return '#f7931e'; // Light orange
            if (rating >= 3.0) return '#ffed4e'; // Yellow
            return '#ff4757'; // Red
        }

        function getActivityIcon(actionType) {
            const icons = {
                'role_change': 'üîÑ',
                'order_completed': '‚úÖ',
                'rating_received': '‚≠ê',
                'joined': 'üëã',
                'left': 'üëã',
                'promotion': 'üìà',
                'demotion': 'üìâ',
                'warning': '‚ö†Ô∏è',
                'achievement': 'üèÜ'
            };
            return icons[actionType] || 'üìù';
        }

        function formatActivityText(activity) {
            const userName = `<span class="activity-user">${activity.user_name}</span>`;
            const action = `<span class="activity-action">${activity.action}</span>`;
            
            return activity.details
                .replace(activity.user_name, userName)
                .replace(new RegExp(activity.action, 'gi'), action);
        }

        function formatDuration(seconds) {
            if (seconds < 3600) {
                return `${Math.floor(seconds / 60)}m`;
            } else if (seconds < 86400) {
                return `${Math.floor(seconds / 3600)}h`;
            } else {
                return `${Math.floor(seconds / 86400)}d`;
            }
        }

        function getTimeAgo(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diff = Math.floor((now - time) / 1000);
            
            if (diff < 60) return `${diff}s ago`;
            if (diff < 3600) return `${Math.floor(diff / 60)}m ago`;
            if (diff < 86400) return `${Math.floor(diff / 3600)}h ago`;
            return `${Math.floor(diff / 86400)}d ago`;
        }

        function animateNumber(element, targetValue) {
            const currentValue = parseInt(element.textContent) || 0;
            const increment = Math.ceil((targetValue - currentValue) / 20);
            
            if (increment === 0) return;
            
            const timer = setInterval(() => {
                const current = parseInt(element.textContent) || 0;
                if ((increment > 0 && current >= targetValue) || (increment < 0 && current <= targetValue)) {
                    element.textContent = targetValue;
                    clearInterval(timer);
                } else {
                    element.textContent = current + increment;
                }
            }, 50);
        }

        function animateChefCards() {
            const cards = document.querySelectorAll('.chef-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.animation = 'slideIn 0.5s ease forwards';
                }, index * 100);
            });
        }

        function updateLastUpdateTime() {
            const now = new Date();
            elements.lastUpdate.textContent = now.toLocaleString();
        }

        function startAutoRefresh() {
            setInterval(() => {
                loadDashboardData();
            }, 30000); // 30 seconds
            
            console.log('üîÑ Auto-refresh started (every 30s)');
        }

        // Simulate real-time updates
        function simulateRealTimeUpdates() {
            setInterval(() => {
                // Randomly update stats
                mockData.stats.total_orders += Math.floor(Math.random() * 3);
                mockData.stats.active_chefs = 8 + Math.floor(Math.random() * 8);
                
                // Add new activity
                const newActivity = {
                    user_name: mockData.rankings[Math.floor(Math.random() * mockData.rankings.length)].name,
                    action_type: ['order_completed', 'rating_received', 'achievement'][Math.floor(Math.random() * 3)],
                    action: ['completed order', 'received rating', 'earned achievement'][Math.floor(Math.random() * 3)],
                    details: `Random activity update - ${new Date().toLocaleTimeString()}`,
                    timestamp: new Date().toISOString()
                };
                
                mockData.activity.unshift(newActivity);
                if (mockData.activity.length > 15) {
                    mockData.activity.pop();
                }
                
                // Update display
                updateLiveStats(mockData.stats);
                updateActivityLog(mockData.activity);
                updateLastUpdateTime();
                
            }, 15000); // Update every 15 seconds
        }

        // Handle visibility change
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                loadDashboardData();
            }
        });
    </script>
</body>
</html>
